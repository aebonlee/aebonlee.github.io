---
---

/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
   sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */

@import
    "vendor/breakpoint/breakpoint",

    "themes",
    "theme/{{ site.site_theme | default: 'default' | append: '_light' }}",
    "theme/{{ site.site_theme | default: 'default' | append: '_dark' }}",

    "include/mixins",
    "vendor/susy/susy",

    "layout/reset",
    "layout/base",

    "include/utilities",
    "layout/tables",
    "layout/buttons",
    "layout/notices",
    "layout/masthead",
    "layout/navigation",
    "layout/footer",
    "syntax",

    "layout/forms",

    "layout/page",
    "layout/archive",
    "layout/sidebar",
    "layout/json_cv",

    "vendor/font-awesome/fontawesome",
    "vendor/font-awesome/solid",
    "vendor/font-awesome/brands"
;

/* Enhanced background and visual styling */
body {
  position: relative;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  min-height: 100vh;
}

body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: 
    radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.05) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.08) 0%, transparent 50%),
    radial-gradient(circle at 40% 40%, rgba(255, 255, 255, 0.03) 0%, transparent 50%);
  pointer-events: none;
  z-index: 0;
}

/* Main content area with glassmorphism effect */
#main {
  position: relative;
  z-index: 1;
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  border-radius: 15px;
  box-shadow: 
    0 20px 40px rgba(0, 0, 0, 0.1),
    0 0 60px rgba(255, 255, 255, 0.2) inset;
  margin: 2em auto;
  max-width: 1200px;
}

/* Enhanced sidebar with glassmorphism */
.sidebar {
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(15px);
  border-radius: 15px;
  padding: 1.5em !important;
  box-shadow: 
    0 10px 30px rgba(0, 0, 0, 0.1),
    0 0 40px rgba(255, 255, 255, 0.15) inset;
  border: 1px solid rgba(255, 255, 255, 0.3);
}

/* Page content area enhancement */
.page {
  background: rgba(255, 255, 255, 0.98);
  border-radius: 10px;
  padding: 2em !important;
  margin: 1em 0;
}

/* Archive items with hover effect */
.archive__item {
  background: rgba(255, 255, 255, 0.7);
  padding: 1.5em;
  border-radius: 10px;
  margin-bottom: 1.5em;
  transition: all 0.3s ease;
  border: 1px solid rgba(255, 255, 255, 0.5);
}

.archive__item:hover {
  transform: translateY(-3px);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
  background: rgba(255, 255, 255, 0.95);
}

/* Masthead enhancement */
.masthead {
  background: rgba(255, 255, 255, 0.98);
  backdrop-filter: blur(20px);
  box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(255, 255, 255, 0.3);
}

/* Footer styling */
.page__footer {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  margin-top: 3em;
  border-top: 1px solid rgba(255, 255, 255, 0.3);
}

/* Links with gradient effect */
a {
  position: relative;
  transition: color 0.3s ease;
}

a:hover {
  color: #764ba2;
}

/* Buttons with gradient background */
.btn {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white !important;
  border: none;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(118, 75, 162, 0.4);
}

/* Author avatar enhancement */
.author__avatar img {
  border: 3px solid rgba(255, 255, 255, 0.9);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}

/* Animated gradient background alternative (subtle) */
@keyframes gradientShift {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

body.gradient-animated {
  background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
  background-size: 400% 400%;
  animation: gradientShift 15s ease infinite;
}

/* Custom CSS for sidebar sticky positioning and spacing */
@media screen and (min-width: 1024px) {
  .sidebar {
    position: sticky;
    top: 20px;
    height: calc(100vh - 40px);
    overflow-y: auto;
    padding-top: 20px;
    margin-top: 0;
  }
  
  .page {
    margin-top: 20px;
    padding-left: 2em;
    max-width: none;
  }
  
  #main {
    margin-top: 1em;
    padding-left: 2em;
    padding-right: 2em;
  }
  
  .author__content {
    margin-bottom: 20px;
  }
  
  .author__bio {
    margin-bottom: 15px !important;
    line-height: 1.4;
  }
  
  .author__urls {
    margin-top: 15px;
  }
  
  .author__urls li {
    margin-bottom: 8px;
  }
  
  .author__urls a {
    padding: 8px 0;
    line-height: 1.2;
  }
}

/* Improve spacing between sidebar elements */
.author__name {
  margin-bottom: 8px !important;
}

.author__pronouns {
  margin-bottom: 8px !important;
}

/* Page content spacing improvements */
.page__content {
  h1, h2, h3, h4, h5, h6 {
    margin-top: 1.5em;
    margin-bottom: 0.8em;
  }
  
  h1 {
    margin-top: 0.5em;
  }
  
  h2 {
    margin-top: 2em;
    padding-bottom: 0.5em;
  }
  
  p {
    margin-bottom: 1.2em;
    line-height: 1.6;
  }
  
  ul, ol {
    margin-bottom: 1.5em;
    
    li {
      margin-bottom: 0.5em;
      line-height: 1.5;
    }
    
    ul, ol {
      margin-top: 0.5em;
      margin-bottom: 0.5em;
    }
  }
  
  blockquote {
    margin: 1.5em 0;
    padding-left: 1.5em;
  }
}

/* Archive page (Publications, CV, etc.) spacing */
.archive {
  .archive__item {
    margin-bottom: 2em;
    
    .archive__item-title {
      margin-bottom: 0.5em;
    }
    
    .archive__item-excerpt {
      margin-bottom: 0;
    }
  }
}

/* CV page specific improvements */
.page__content {
  h6 + ul, h5 + ul, h4 + ul, h3 + ul, h2 + ul {
    margin-top: 0.5em;
  }
  
  ul ul {
    margin-top: 0.3em;
    margin-bottom: 0.8em;
  }
  
  strong {
    color: var(--global-text-color);
  }
}

/* Better mobile responsive behavior */
@media screen and (max-width: 1023px) {
  .sidebar {
    position: relative;
    margin-top: 1em;
    margin-bottom: 2em;
  }
  
  .page {
    margin-top: 1em;
  }
  
  #main {
    margin-top: 1.5em;
    padding-left: 1em;
    padding-right: 1em;
  }
  
  .page__content {
    h2 {
      margin-top: 1.5em;
    }
  }
}

/* Improve readability */
@media screen and (min-width: 1024px) {
  .page__content {
    font-size: 1.05em;
    line-height: 1.65;
  }
}